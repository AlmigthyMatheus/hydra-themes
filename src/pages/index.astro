---
import Layout from "../layouts/Layout.astro";
import { ThemeList } from "@/components/ui/theme-list";
import { Note } from "@/components/ui/note";
import type { ThemeListResponse } from "@/pages/api/themes";

const sort = "downloads";

const themes = await fetch(
  `${Astro.url.origin}/api/themes?page=1&sort=${sort}`,
).then((res) => res.json() as Promise<ThemeListResponse>);
---

<Layout title="Hydra Themes">
  <ThemeList
    client:load
    themes={themes.edges}
    themeCount={themes.count}
    sort={sort}
  />
  
  <Note />
</Layout>
